{
  "name": "@antonycc/www-diyaccounting-co-uk",
  "version": "1.0.0",
  "type": "module",
  "description": "Gateway static site for diyaccounting.co.uk",
  "private": true,
  "scripts": {
    "start": "npx http-server web/www.diyaccounting.co.uk/public -p 3000",
    "build": "./mvnw clean verify",
    "cdk:synth": "cd cdk-gateway && npx cdk synth --require-approval never --ci true --strict --validation && cd ..",
    "cdk:diff": "cd cdk-gateway && npx cdk diff && cd ..",
    "formatting": "prettier --check . && ./mvnw spotless:check",
    "formatting-fix": "prettier --write . && ./mvnw spotless:apply",
    "formatting:js": "prettier --check .",
    "formatting:js-fix": "prettier --write .",
    "formatting:java": "./mvnw -DskipTests spotless:check",
    "formatting:java-fix": "./mvnw -DskipTests spotless:apply",
    "linting": "npm run lint:workflows",
    "lint:workflows": "./scripts/validate-workflows.sh",
    "test": "npx vitest --run web/unit-tests/*.test.js",
    "test:unit": "npx vitest --run web/unit-tests/*.test.js",
    "test:browser": "npx playwright test --project=browser-tests",
    "test:gatewayBehaviour": "bash -c 'set -o pipefail; npx playwright test --project=gatewayBehaviour 2>&1 | tee gatewayBehaviour.log'",
    "test:gatewayBehaviour-local": "GATEWAY_BASE_URL=http://localhost:3000 npm run test:gatewayBehaviour",
    "test:gatewayBehaviour-ci": "GATEWAY_BASE_URL=https://ci-gateway.diyaccounting.co.uk npm run test:gatewayBehaviour",
    "test:gatewayBehaviour-prod": "GATEWAY_BASE_URL=https://diyaccounting.co.uk npm run test:gatewayBehaviour",
    "accessibility:pa11y-ci": "npx pa11y-ci --config .pa11yci.ci.json",
    "accessibility:pa11y-prod": "npx pa11y-ci --config .pa11yci.prod.json",
    "accessibility:pa11y-ci-report": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx pa11y-ci --config .pa11yci.ci.json 2>&1 > web/www.diyaccounting.co.uk/public/tests/accessibility/pa11y-report.txt || true",
    "accessibility:pa11y-prod-report": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx pa11y-ci --config .pa11yci.prod.json 2>&1 > web/www.diyaccounting.co.uk/public/tests/accessibility/pa11y-report.txt || true",
    "accessibility:axe-ci": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx axe https://ci-gateway.diyaccounting.co.uk/ https://ci-gateway.diyaccounting.co.uk/about.html --save web/www.diyaccounting.co.uk/public/tests/accessibility/axe-results.json || true",
    "accessibility:axe-prod": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx axe https://diyaccounting.co.uk/ https://diyaccounting.co.uk/about.html --save web/www.diyaccounting.co.uk/public/tests/accessibility/axe-results.json || true",
    "accessibility:axe-wcag22-ci": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx axe https://ci-gateway.diyaccounting.co.uk/ https://ci-gateway.diyaccounting.co.uk/about.html --tags wcag2a,wcag2aa,wcag21a,wcag21aa,wcag22aa --save web/www.diyaccounting.co.uk/public/tests/accessibility/axe-wcag22-results.json || true",
    "accessibility:axe-wcag22-prod": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx axe https://diyaccounting.co.uk/ https://diyaccounting.co.uk/about.html --tags wcag2a,wcag2aa,wcag21a,wcag21aa,wcag22aa --save web/www.diyaccounting.co.uk/public/tests/accessibility/axe-wcag22-results.json || true",
    "accessibility:lighthouse-ci-report": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx lighthouse https://ci-gateway.diyaccounting.co.uk/ --output json --output-path web/www.diyaccounting.co.uk/public/tests/accessibility/lighthouse-results.json --chrome-flags='--headless --no-sandbox' || true",
    "accessibility:lighthouse-prod-report": "mkdir -p web/www.diyaccounting.co.uk/public/tests/accessibility && npx lighthouse https://diyaccounting.co.uk/ --output json --output-path web/www.diyaccounting.co.uk/public/tests/accessibility/lighthouse-results.json --chrome-flags='--headless --no-sandbox' || true",
    "accessibility:text-spacing-ci-report": "node scripts/text-spacing-test.js --url https://ci-gateway.diyaccounting.co.uk",
    "accessibility:text-spacing-prod-report": "node scripts/text-spacing-test.js --url https://diyaccounting.co.uk",
    "accessibility:ci-report": "npm run accessibility:pa11y-ci-report ; npm run accessibility:axe-ci ; npm run accessibility:axe-wcag22-ci ; npm run accessibility:lighthouse-ci-report ; npm run accessibility:text-spacing-ci-report",
    "accessibility:prod-report": "npm run accessibility:pa11y-prod-report ; npm run accessibility:axe-prod ; npm run accessibility:axe-wcag22-prod ; npm run accessibility:lighthouse-prod-report ; npm run accessibility:text-spacing-prod-report",
    "penetration:eslint": "npx eslint --config eslint.security.config.js .",
    "penetration:eslint-report": "mkdir -p web/www.diyaccounting.co.uk/public/tests/penetration && npx eslint --config eslint.security.config.js . 2>&1 > web/www.diyaccounting.co.uk/public/tests/penetration/eslint-security.txt || true",
    "penetration:audit": "mkdir -p web/www.diyaccounting.co.uk/public/tests/penetration && npm audit --audit-level=moderate --omit=dev",
    "penetration:audit-report": "mkdir -p web/www.diyaccounting.co.uk/public/tests/penetration && npm audit --json --audit-level=moderate --omit=dev 2>&1 > web/www.diyaccounting.co.uk/public/tests/penetration/npm-audit.json 2>&1 || true",
    "penetration:retire": "mkdir -p web/www.diyaccounting.co.uk/public/tests/penetration && npx retire --path .",
    "penetration:retire-report": "mkdir -p web/www.diyaccounting.co.uk/public/tests/penetration && npx retire --path . --outputformat json --outputpath web/www.diyaccounting.co.uk/public/tests/penetration/retire.json 2>&1 || true",
    "penetration:ci": "npm run penetration:eslint && npm run penetration:audit && npm run penetration:retire",
    "penetration:prod": "npm run penetration:eslint && npm run penetration:audit && npm run penetration:retire",
    "penetration:ci-report": "npm run penetration:eslint-report ; npm run penetration:audit-report ; npm run penetration:retire-report",
    "penetration:prod-report": "npm run penetration:eslint-report ; npm run penetration:audit-report ; npm run penetration:retire-report",
    "compliance:ci": "npm run accessibility:pa11y-ci && npm run penetration:ci",
    "compliance:prod": "npm run accessibility:pa11y-prod && npm run penetration:prod",
    "compliance:ci-report": "npm run accessibility:ci-report ; npm run penetration:ci-report",
    "compliance:prod-report": "npm run accessibility:prod-report ; npm run penetration:prod-report",
    "compliance:ci-report-md": "npm run compliance:ci-report && node scripts/generate-compliance-report.js --target https://ci-gateway.diyaccounting.co.uk",
    "compliance:prod-report-md": "npm run compliance:prod-report && node scripts/generate-compliance-report.js --target https://diyaccounting.co.uk",
    "seo:structured-data-ci": "npx sdtt --url https://ci-gateway.diyaccounting.co.uk/ --presets Google SocialMedia",
    "seo:structured-data-prod": "npx sdtt --url https://diyaccounting.co.uk/ --presets Google SocialMedia",
    "update-to-minor": "npx npm-check-updates --upgrade --enginesNode --target minor --verbose --install always",
    "update-to-latest": "npx npm-check-updates --upgrade --enginesNode --verbose --install always",
    "update:java": "./scripts/update-java.sh",
    "update:node": "npm run update-to-latest",
    "diagram:gateway": "npm run cdk:synth && bash -c 'for f in cdk-submit-gateway.out/*.template.json; do npx @mhlabs/cfn-diagram draw.io -c -s -t \"$f\" -o \"cdk-gateway-$(basename $f .template.json).drawio\"; done' && for f in cdk-gateway-*.drawio; do node scripts/clean-drawio.cjs \"$f\"; done"
  },
  "devDependencies": {
    "@axe-core/cli": "^4.11.1",
    "@mhlabs/cfn-diagram": "^1.1.36",
    "@playwright/test": "^1.58.2",
    "aws-cdk": "^2.1106.1",
    "eslint": "^10.0.1",
    "eslint-plugin-security": "^4.0.0",
    "http-server": "^14.1.1",
    "lighthouse": "^12.6.1",
    "npm-check-updates": "^19.4.1",
    "pa11y": "^9.1.0",
    "pa11y-ci": "^1.2.0",
    "prettier": "^3.8.1",
    "retire": "^5.4.2",
    "structured-data-testing-tool": "^4.5.0",
    "vitest": "^4.0.18",
    "wait-on": "^9.0.4"
  },
  "engines": {
    "node": ">=24.0.0"
  }
}
